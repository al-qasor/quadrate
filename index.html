<!DOCTYPE html>
<html lang="ar" >
<head>
  <meta charset="UTF-8" />
  <title>دفتر القدرات الصيفي 🌞 - متطور</title>
  <style>
      @import url('https://fonts.googleapis.com/css2?family=Changa:wght@400;700&display=swap');
  
      body {
    font-family: 'Cairo', sans-serif;
    background: #fff8f0;
    color: #333;
    padding: 20px;
    direction: rtl;
    margin: 0;
  }
  
  input, button {
    padding: 12px;
    margin: 8px 0;
    border-radius: 8px;
    border: 1px solid #ccc;
    width: 100%;
    box-sizing: border-box;
  }
  
  button {
    background-color: #ffb347;
    color: white;
    border: none;
    cursor: pointer;
    font-weight: bold;
  }
  
  button:hover {
    background-color: #ff944d;
  }
  
  .progress-container {
    width: 100%;
    background-color: #eee;
    border-radius: 30px;
    overflow: hidden;
    height: 25px;
    margin: 20px 0;
  }
  
  .progress-bar {
    height: 100%;
    width: 0;
    background: linear-gradient(to right, #ffb347, #ffcc33);
    transition: width 0.4s ease;
  }
  
  .notes-board {
    display: flex;
    flex-direction: column;
    gap: 10px;
    margin-top: 20px;
  }
  
  .note {
    background: #fff3e6;
    padding: 10px 14px;
    border-radius: 10px;
    position: relative;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    word-wrap: break-word;
  }
  
  .note button {
    position: absolute;
    top: 8px;
    left: 8px;
    background: transparent;
    border: none;
    color: #c00;
    font-size: 18px;
    cursor: pointer;
  }
  
  .motivation {
    font-size: 18px;
    margin-top: 10px;
    color: #ff8000;
    font-weight: bold;
    text-align: center;
  }
  
  .info {
    margin-top: 10px;
    font-size: 16px;
  }
  
  /* ✅ Media Query للجوالات */
  @media screen and (max-width: 600px) {
    body {
      padding: 15px;
    }
  
    h3 {
      font-size: 18px;
    }
  
    .note {
      font-size: 14px;
    }
  
    .motivation {
      font-size: 16px;
    }
  }
  
  /* ✅ Footer */
  footer {
    margin-top: 40px;
    text-align: center;
    padding: 15px;
    background-color: #ffebd6;
    color: #444;
    border-top: 1px solid #ccc;
    font-size: 14px;
  }
      body {
        font-family: 'Changa', sans-serif;
        direction: rtl;
        background: linear-gradient(to bottom right, #fff7cc, #ffe3f0);
        margin: 0;
        padding: 0;
        color: #333;
      }
  
      header {
        background: linear-gradient(to right, #ffa07a, #ffd700);
        padding: 25px;
        text-align: center;
        font-size: 28px;
        color: #fff;
        font-weight: bold;
        box-shadow: 0 3px 12px rgba(0,0,0,0.1);
      }
  
      .container {
        max-width: 900px;
        margin: 30px auto;
        background: #ffffffd8;
        border-radius: 20px;
        padding: 30px;
        box-shadow: 0 6px 20px rgba(255,153,51,0.2);
      }
  
      h2 {
        color: #e67e22;
        border-bottom: 2px dashed #f7b731;
        padding-bottom: 10px;
        margin-top: 0;
      }
       
      P{
          color: #ed994f;
      }
  
      label {
        display: block;
        margin-top: 15px;
        font-weight: bold;
        color: #d35400;
      }
  
      input[type="date"],
      input[type="number"],
      textarea {
        width: 100%;
        padding: 12px;
        margin-top: 5px;
        border: 2px solid #ffd580;
        border-radius: 12px;
        font-size: 16px;
      }
  
      button {
        margin-top: 20px;
        background: #f39c12;
        color: white;
        padding: 14px 26px;
        font-size: 18px;
        border: none;
        border-radius: 14px;
        cursor: pointer;
        transition: background 0.3s ease;
      }
  
      button:hover {
        background: #e67e22;
      }
  
      #motivation {
        margin-top: 20px;
        background: #fff0f6;
        color: #d35400;
        font-weight: bold;
        font-size: 20px;
        padding: 18px;
        border-radius: 14px;
        text-align: center;
        min-height: 56px;
      }
  
      .progress-bar {
        background: #ffe9b6;
        border-radius: 30px;
        height: 22px;
        overflow: hidden;
        margin-top: 10px;
      }
      .progress-bar > div {
        height: 100%;
        background: #f39c12;
        width: 0;
        transition: width 0.8s ease;
      }
  
      #notesBoard {
        display: flex;
        flex-wrap: wrap;
        gap: 20px;
        margin-top: 20px;
        min-height: 180px;
      }
  
      /* استكرات الملاحظات */
      .sticky-note {
        background: #fffbe6;
        width: 220px;
        min-height: 160px;
        padding: 15px 15px 10px;
        border-radius: 10px;
        position: relative;
        box-shadow: 2px 4px 15px rgba(0,0,0,0.1);
        font-size: 16px;
        color: #333;
        border: 2px dashed #f7d774;
        transition: transform 0.2s ease;
      }
      .sticky-note:hover {
        transform: rotate(-1deg) scale(1.02);
      }
      .sticky-note button {
        position: absolute;
        bottom: 8px;
        right: 8px;
        background: #e74c3c;
        color: white;
        border: none;
        font-size: 12px;
        padding: 6px 10px;
        border-radius: 8px;
        cursor: pointer;
      }
  
      /* عد تنازلي */
      #countdown {
        font-size: 24px;
        font-weight: 700;
        color: #e67e22;
        margin-top: 12px;
        text-align: center;
      }
  
      /* مؤقت المذاكرة */
      .countdown-card {
        max-width: 350px;
        margin: 50px auto;
        padding: 20px;
        background-color: #fff7e6;
        border: 2px dashed #ffa502;
        border-radius: 20px;
        text-align: center;
        font-family: 'Cairo', sans-serif;
        box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      }
  
      .event-title {
        font-size: 22px;
        margin-bottom: 15px;
        color: #444;
      }
  
      .input-time {
        margin-bottom: 20px;
      }
  
      .input-time input {
        width: 80px;
        padding: 10px;
        font-size: 16px;
        margin: 5px;
        border-radius: 10px;
        border: 1px solid #ccc;
        text-align: center;
      }
  
      .input-time button {
        padding: 10px 16px;
        font-size: 16px;
        background-color: #ffd166;
        border: none;
        border-radius: 10px;
        cursor: pointer;
        font-weight: bold;
        transition: background-color 0.2s ease;
      }
  
      .input-time button:hover {
        background-color: #ffb703;
      }
  
      .countdown-timer {
        font-size: 48px;
        font-weight: bold;
        color: #333;
        margin-top: 10px;
      }
  
      .end-message {
        margin-top: 20px;
        font-size: 18px;
        color: #28a745;
        font-weight: bold;
      }
      /* جدول الاسبوع */
      #weeklySchedule {
        margin-top: 20px;
        overflow-x: auto;
      }
      table {
        border-collapse: collapse;
        width: 100%;
        font-size: 16px;
        text-align: center;
      }
      th, td {
        border: 2px solid #f7b731;
        padding: 10px 5px;
        min-width: 90px;
        vertical-align: top;
        background: #fffbe6;
        border-radius: 6px;
      }
      th {
        background: #f39c12;
        color: white;
        font-weight: 700;
      }
      td textarea {
        width: 90%;
        height: 60px;
        resize: none;
        border: 1.5px solid #f7b731;
        border-radius: 8px;
        padding: 6px;
        font-family: 'Changa', sans-serif;
        font-size: 15px;
      }
  
      /* تصدير PDF زر */
      #exportPDFBtn {
        background: #27ae60;
        margin-top: 25px;
        font-weight: 700;
      }
      #exportPDFBtn:hover {
        background: #229954;
      }
      .welcome-screen {
        text-align: center;
        padding: 50px;
        background-color: #fef3c7;
        border-radius: 20px;
        width: 90%;
        max-width: 400px;
        margin: 100px auto;
        box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        font-family: 'Cairo', sans-serif;
      }
  
      .welcome-screen input {
        padding: 10px;
        font-size: 16px;
        margin-top: 10px;
        border-radius: 10px;
        border: 1px solid #ccc;
        width: 80%;
        text-align: center;
      }
  
      .welcome-screen button {
        margin-top: 15px;
        padding: 10px 20px;
        font-size: 16px;
        background-color: #ffb703;
        border: none;
        border-radius: 10px;
        cursor: pointer;
        font-weight: bold;
      }
      @media (max-width: 600px) {
  header {
    font-size: 22px;
    padding: 18px;
  }

  .container {
    padding: 20px 15px;
    margin: 20px 10px;
  }

  h2 {
    font-size: 20px;
  }

  .sticky-note {
    width: 100%;
    min-height: auto;
    font-size: 14px;
  }

  .countdown-card {
    width: 100%;
    margin: 20px auto;
    padding: 15px;
  }

  .input-time input {
    width: 60px;
    padding: 8px;
    font-size: 14px;
  }

  .countdown-timer {
    font-size: 36px;
  }

  table {
    font-size: 14px;
  }

  th, td {
    padding: 6px 4px;
    min-width: 70px;
  }

  td textarea {
    font-size: 13px;
    height: 50px;
  }

  .welcome-screen {
    padding: 30px 20px;
    margin: 50px auto;
  }

  .welcome-screen input {
    font-size: 14px;
    width: 100%;
  }

  .welcome-screen button {
    font-size: 14px;
    width: 100%;
  }
}
    </style>
</head>
<body>

<header>دفتر القدرات الصيفي 🌞 - متطور</header>

<div id="welcomeScreen" class="welcome-screen">
    <h2>👋 أهلًا في تطبيق المذاكرة الصيفي!</h2>
    <p>شلون تحب أناديك؟</p>
    <input type="text" id="usernameInput" placeholder="اكتب اسمك..." />
    <button onclick="startApp()">ابدأ</button>
  </div>
  
  <div id="mainApp" style="display: none;">
    <h2 id="greetingMessage"></h2>
    <!-- هنا تكملي كل واجهة المذاكرة والمؤقت وغيره -->
  </div>

<div class="container">
  <h2>📅 حدد موعد اختبارك</h2>
  <label for="examDate">تاريخ الاختبار</label>
  <input type="date" id="examDate" />

  <div id="countdown">حدد موعد الاختبار ليظهر العد التنازلي</div>
</div>

<div class="container">
  <h2>🎯 سجلي مذاكرتك</h2>
  <form id="studyForm">
    <label>اليوم</label>
    <input type="date" id="date" required />
    
    <label>عدد الساعات</label>
    <input type="number" id="hours" min="0" max="10" step="0.5" required />
    
    <label>ملاحظتك لليوم</label>
    <textarea id="notes" rows="3" placeholder="مثلاً: ذاكرت لفظي وراجعت تجميعات..."></textarea>
    
    <button type="submit">تسجيل ✅</button>
  </form>
  
  <div id="motivation"></div>
</div>

<div class="container">
    <h2>📈 تقدمك</h2>
    <div class="progress-bar"><div id="progressBar"></div></div>
    <p>المجموع: <span id="totalHours">0</span> ساعة من 60 🎯</p>
  </div>

  
  <div id="progressArea" style="display: none;">
    <p>💡 هدفك: <span id="goalDisplay">--</span> ساعة</p>
    <p>⏱️ سجّلتِ: <span id="loggedHours">0</span> ساعة</p>
    <p>🟢 المتبقي: <span id="remainingHours">--</span> ساعة</p>
  </div>

<div class="countdown-card">
    <h2 class="event-title">⏳ مؤقت المذاكرة</h2>
  
    <div class="input-time">
      <input type="number" id="inputMinutes" placeholder="الدقائق" min="0">
      <input type="number" id="inputSeconds" placeholder="الثواني" min="0">
      <button onclick="startCustomCountdown()">ابدأ</button>
    </div>
  
    <div class="countdown-timer" id="countdownDisplay">00:00</div>
    <div class="end-message" id="endMessage" style="display: none;">
      ✅ خلص الوقت! خذ بريك حلو ☕
    </div>
  </div>
  <audio id="alarmSound" src="https://assets.mixkit.co/sfx/preview/mixkit-alarm-tone-996.mp3" preload="auto"></audio>

<div class="container">
  <h2>📆 جدول الأسبوع</h2>
  <p>دخل جدولك الي تبي</p>
  <div id="weeklySchedule">
    <table>
      <thead>
        <tr>
          <th>اليوم</th>
          <th>خطة المذاكرة</th>
        </tr>
      </thead>
      <tbody>
        <tr><td>الأحد</td><td><textarea>رياضيات + تجميعات</textarea></td></tr>
        <tr><td>الاثنين</td><td><textarea>لفظي + منطق</textarea></td></tr>
        <tr><td>الثلاثاء</td><td><textarea>تجميعات</textarea></td></tr>
        <tr><td>الأربعاء</td><td><textarea>محوسب</textarea></td></tr>
        <tr><td>الخميس</td><td><textarea>رياضيات</textarea></td></tr>
        <tr><td>الجمعة</td><td><textarea>راحة أو مراجعة</textarea></td></tr>
        <tr><td>السبت</td><td><textarea>اختبار تجريبي</textarea></td></tr>
      </tbody>
    </table>
  </div>
</div>


<div class="container">
  <h2>📌 ملاحظاتك</h2>
  <div id="notesBoard"></div>
  <button id="exportPDFBtn">📄 تصدير الملاحظات PDF</button>
</div>
<footer>
    هذا الموقع صُمم لمتابعة مذاكرتك الصيفية 💛 | أسماء سعد © 2025
  </footer>

<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.2/html2pdf.bundle.min.js"></script>
<script>
    let total = 0;
    const progressBar = document.getElementById("progressBar");
    const totalHours = document.getElementById("totalHours");
    const form = document.getElementById("studyForm");
    const notesBoard = document.getElementById("notesBoard");
    const motivation = document.getElementById("motivation");
  
    const phrases = [
      "كل يوم يقربك من حلمك! 💫",
      "استمري، أنتي قادرة 💪",
      "مجهودك يثمر قريبًا 🌱",
      "خطوة بخطوة توصلين 👣",
      "ذاكرتك قوية، ثقي بنفسك! 🧠",
    ];
  
    form.addEventListener("submit", (e) => {
      e.preventDefault();
      const hours = parseFloat(document.getElementById("hours").value);
      const notes = document.getElementById("notes").value;
  
      if (hours > 0) {
        total += hours;
        totalHours.textContent = total;
        progressBar.style.width = `${Math.min(total / 60 * 100, 100)}%`;
    

    // تحفيز
       const randomPhrase = phrases[Math.floor(Math.random() * phrases.length)];
        motivation.textContent = randomPhrase;

      // عرض الملاحظة
        const note = document.createElement("div");
        note.className = "sticky-note";

        const now = new Date();
        const date = now.toLocaleDateString('ar-EG');

        note.innerHTML = `
          <div style="font-size: 14px; margin-bottom: 6px;">
             <strong>📅 ${date}</strong> – <strong>⏳ ${hours} ساعة</strong>
          </div>
          <div style="font-size: 15px;">📝 ${notes}</div>
          <button style="sticky-note button">🗑️</button>
      `;

 // يخلي الملاحظة الجديدة تطلع أول وحدة فوق 
         note.querySelector("button").onclick = () => note.remove();
         notesBoard.appendChild(note);

      // عبارة تحفيزية
      const random = phrases[Math.floor(Math.random() * phrases.length)];
      motivation.textContent = random;
    }

    form.reset();
  });

  function startApp() {
     const username = document.getElementById('usernameInput').value.trim();

     if (username === "") {
     alert("من فضلك أدخل اسمك ❤️");
     return;
    }

    document.getElementById('welcomeScreen').style.display = "none";
    document.getElementById('mainApp').style.display = "block";
    document.getElementById('greetingMessage').textContent = `هلا والله يا ${username}! يلا نبدأ رحلة المذاكرة 💪📚`;
  }


  // عد تنازلي
  const examInput = document.getElementById("examDate");
  const countdown = document.getElementById("countdown");
  examInput.addEventListener("change", () => {
    const date = new Date(examInput.value);
    const interval = setInterval(() => {
      const now = new Date();
      const diff = Math.floor((date - now) / (1000 * 60 * 60 * 24));
      if (diff >= 0) {
        countdown.textContent = `متبقي ${diff} يومًا على الاختبار`;
      } else {
        countdown.textContent = "انتهى وقت الاختبار!";
        clearInterval(interval);
      }
    }, 1000);
  });

  // مؤقت مربعات
  let countdownInterval;
  let timeLeft = 0;

  function formatTime(seconds) {
    const m = String(Math.floor(seconds / 60)).padStart(2, '0');
    const s = String(seconds % 60).padStart(2, '0');
    return `${m}:${s}`;
   }

  function startCustomCountdown() {
    const mins = parseInt(document.getElementById('inputMinutes').value) || 0;
    const secs = parseInt(document.getElementById('inputSeconds').value) || 0;

    timeLeft = (mins * 60) + secs;

    if (timeLeft <= 0) {
      alert("🚨 أدخل وقت صالح!");
      return;
    }

    document.getElementById('endMessage').style.display = "none";
    updateCountdownDisplay();

    clearInterval(countdownInterval);
    countdownInterval = setInterval(() => {
      timeLeft--;
      updateCountdownDisplay();

      if (timeLeft <= 0) {
        clearInterval(countdownInterval);
        document.getElementById("alarmSound").play();
        document.getElementById('endMessage').style.display = "block";
      }
    }, 1000);
  }

  function updateCountdownDisplay() {
    document.getElementById('countdownDisplay').textContent = formatTime(timeLeft);
  }

  // تصدير PDF
  document.getElementById("exportPDFBtn").addEventListener("click", () => {
    html2pdf(notesBoard);
  });
</script>

</body>
</html>
